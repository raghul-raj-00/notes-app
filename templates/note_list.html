{% extends 'notes_base.html' %}
{% load static %}

{% block content %}

<style>
/* Background layer */
.bg-blur {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("{% static 'images/background.jpg' %}");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    filter: blur(10px);
    z-index: -1;
}

/* Content area */
.content-container {
    position: relative;
    z-index: 10;
    padding: 20px;
}

/* Glass card UI */
.glass-box {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(12px);
    padding: 20px;
    border-radius: 16px;
    margin-bottom: 20px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
}
</style>

<div class="bg-blur"></div>

<div class="content-container">
    <h2 class="mb-3">Your Notes</h2>

    {% if notes %}
        {% for n in notes %}
            <div class="glass-box">
                <h4>{{ n.title }}</h4>
                <p>{{ n.content }}</p>

                {% if n.summary %}
                    <div class="p-2 border rounded bg-light mb-2">
                        <strong>AI Summary:</strong>
                        <p>{{ n.summary|linebreaks }}</p>
                    </div>
                {% endif %}

                <a href="{% url 'edit_note' n.id %}" class="btn btn-grey btn-sm">Edit</a>
                <a href="{% url 'delete_note' n.id %}" class="btn btn-red btn-sm">Delete</a>
                <a href="{% url 'summarize_note' n.id %}" class="btn btn-blue btn-sm">Summarize</a>
            </div>
        {% endfor %}
    {% else %}
        <p>No notes yet. Click <strong>New Note</strong> to add one.</p>
    {% endif %}
</div>

{% endblock %}




